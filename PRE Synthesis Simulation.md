---

# ğŸ§© Week 2 Task â€“ BabySoC Fundamentals & Functional Modelling

## ğŸ¯ Objective

To build a solid understanding of SoC fundamentals and practice functional modelling of the **VSDBabySoC** using **simulation tools** (Icarus Verilog & GTKWave).
The goal is to verify correct functionality of the integrated SoC before synthesis â€” focusing on **clock, reset, PLL, DAC output**, and internal signal behavior.

---

## ğŸ§  Overview

**VSDBabySoC** is a simple System-on-Chip (SoC) integrating three major IP blocks:

* ğŸ§® **RISC-V Processor (rvmyth)** â€“ Acts as the computational core of the system.
* âš™ï¸ **Phase-Locked Loop (PLL)** â€“ Generates a stable on-chip clock signal.
* ğŸšï¸ **Digital-to-Analog Converter (DAC)** â€“ Converts digital output to an analog waveform.

This simulation verifies **functional correctness at RTL (pre-synthesis)** to ensure proper dataflow and module interconnections before proceeding to synthesis.

---

## ğŸ“ Project Structure

```
VSDBabySoC/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ include/
â”‚   â”‚   â”œâ”€â”€ sandpiper.vh
â”‚   â”‚   â””â”€â”€ sp_default.vh
â”‚   â”œâ”€â”€ module/
â”‚   â”‚   â”œâ”€â”€ vsdbabysoc.v      # Top-level SoC module
â”‚   â”‚   â”œâ”€â”€ rvmyth.v          # RISC-V core
â”‚   â”‚   â”œâ”€â”€ avsdpll.v         # PLL
â”‚   â”‚   â”œâ”€â”€ avsddac.v         # DAC
â”‚   â”‚   â””â”€â”€ tb_vsdbabysoc.v   # Testbench
â””â”€â”€ output/
    â”œâ”€â”€ pre_synth_sim/
    â””â”€â”€ post_synth_sim/
```

---

## âš™ï¸ Tools Used

* **Icarus Verilog (iverilog)** â†’ To compile and simulate Verilog HDL
* **GTKWave** â†’ To view waveform outputs from `.vcd` files

---

## ğŸ§© Part 2 â€“ Labs (Hands-on Functional Modelling)

### Step-by-Step Guide for Pre-Synthesis Simulation

#### ğŸ§° Step 1 â€“ Clone the BabySoC Project Repository

```bash
git clone https://github.com/manoharan-AI/VSDBabySoC.git
cd VSDBabySoC
```

---

#### âš™ï¸ Step 2 â€“ Compile the BabySoC Verilog Modules

Use **iverilog** to compile all modules and the testbench for RTL-level simulation:

```bash
iverilog -o output/pre_synth_sim/pre_synth_sim.out -DPRE_SYNTH_SIM \
    -I src/include -I src/module \
    src/module/tb_vsdbabysoc.v src/module/vsdbabysoc.v
```

* `-DPRE_SYNTH_SIM` defines the macro for pre-synthesis conditional compilation.
* `-I` includes the header file directories.

---

#### â–¶ï¸ Step 3 â€“ Run the Simulation

```bash
cd output/pre_synth_sim
./pre_synth_sim.out
```

This generates a waveform dump file:

```
pre_synth_sim.vcd
```

---

#### ğŸ“ˆ Step 4 â€“ View Waveforms in GTKWave

Open the generated VCD file in GTKWave:

```bash
gtkwave output/pre_synth_sim/pre_synth_sim.vcd
```

---


<img width="1600" height="900" alt="Untitled design (2)" src="https://github.com/user-attachments/assets/e0e31109-0cc1-459d-b868-931ad786584f" />



## ğŸ§© Step 5 â€“ Analyze Waveform Behavior

The waveform represents the **functional behavior of VSDBabySoC before synthesis**.

### ğŸ–¼ï¸ Screenshot Reference: *pre_synth_sim.vcd (RTL Simulation)*

**Observations:**

* `CLK` signal shows a stable oscillation generated by the PLL.
* `RESET` correctly initializes the system and deasserts after a few cycles.
* The `rvmyth` RISC-V core begins instruction execution after reset release.
* `PLL_REF` and `PLL_EN_VCO` show synchronized toggling, confirming PLL locking behavior.
* The **DAC output (`OUT`)** exhibits a smooth sinusoidal-like analog pattern derived from digital inputs, validating correct digital-to-analog conversion.
* Internal signals such as `VREFL`, `VREFH`, and `D[9:0]` transition as per the testbench stimulus, confirming module-level connectivity.

**Interpretation:**
The pre-synthesis simulation successfully verifies the **functional correctness of the SoC**.
All modules â€” `CPU`, `PLL`, and `DAC` â€” interact seamlessly, and the output waveform matches expected analog-like variation.
This confirms the RTL design is functionally valid and ready for synthesis.

---

## ğŸ“¦ Deliverables

* âœ… **Simulation log files** (`pre_synth_sim.out`)
* âœ… **Waveform file** (`pre_synth_sim.vcd`)
* âœ… **GTKWave screenshot** showing `PLL`, `DAC`, and core output behavior
* âœ… **Explanation** (as above) describing correct BabySoC operation at RTL

---

## ğŸ§­ Conclusion

The **pre-synthesis functional simulation** of the VSDBabySoC demonstrates:

* Proper SoC integration at the RTL level.
* Accurate signal propagation and timing behavior.
* Functional verification of the CPU, PLL, and DAC modules before synthesis.

This ensures that the SoC design is **functionally sound and synthesizable** for further gate-level verification.

---
